// Code generated by GetStream internal OpenAPI code generator. DO NOT EDIT.
using System;
using System.Threading;
using System.Threading.Tasks;
using System.Collections.Generic;
using GetStream.Requests;
using GetStream.Models;

namespace GetStream
{
    public class FeedClient
    {
        private readonly IClient _client;

        public FeedClient(IClient client)
        {
            _client = client ?? throw new ArgumentNullException(nameof(client));
        }

        private Dictionary<string, string> ExtractQueryParams(object request)
        {
            if (request == null)
                return new Dictionary<string, string>();
            var queryParams = new Dictionary<string, string>();
            var properties = request.GetType().GetProperties();
            foreach (var prop in properties)
            {
                var value = prop.GetValue(request);
                if (value != null)
                {
                    queryParams[prop.Name.ToLower()] = value.ToString();
                }
            }

            return queryParams;
        }
        
        // Create a new activity or update an existing one
        public async Task<StreamResponse<AddActivityResponse>> AddActivityAsync(AddActivityRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<AddActivityRequest, AddActivityResponse>(
                "POST",
                "/api/v2/feeds/activities",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Create new activities or update existing ones in a batch operation
        public async Task<StreamResponse<UpsertActivitiesResponse>> UpsertActivitiesAsync(UpsertActivitiesRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<UpsertActivitiesRequest, UpsertActivitiesResponse>(
                "POST",
                "/api/v2/feeds/activities/batch",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Delete one or more activities by their IDs
        public async Task<StreamResponse<DeleteActivitiesResponse>> DeleteActivitiesAsync(DeleteActivitiesRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<DeleteActivitiesRequest, DeleteActivitiesResponse>(
                "POST",
                "/api/v2/feeds/activities/delete",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Query activities based on filters with pagination and sorting options
        public async Task<StreamResponse<QueryActivitiesResponse>> QueryActivitiesAsync(QueryActivitiesRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<QueryActivitiesRequest, QueryActivitiesResponse>(
                "POST",
                "/api/v2/feeds/activities/query",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Delete a single activity by its ID
        public async Task<StreamResponse<DeleteActivityResponse>> DeleteActivityAsync(string ActivityID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, DeleteActivityResponse>(
                "DELETE",
                "/api/v2/feeds/activities/{activity_id}",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Returns activity by ID
        public async Task<StreamResponse<GetActivityResponse>> GetActivityAsync(string ActivityID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };

            var result = await _client.MakeRequestAsync<object, GetActivityResponse>(
                "GET",
                "/api/v2/feeds/activities/{activity_id}",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Updates certain fields of the activity
        
        // Sends events:
        // - feeds.activity.updated
        public async Task<StreamResponse<UpdateActivityPartialResponse>> UpdateActivityPartialAsync(string ActivityID,UpdateActivityPartialRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };

            var result = await _client.MakeRequestAsync<UpdateActivityPartialRequest, UpdateActivityPartialResponse>(
                "PATCH",
                "/api/v2/feeds/activities/{activity_id}",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Replaces an activity with the provided data
        
        // Sends events:
        // - feeds.activity.updated
        public async Task<StreamResponse<UpdateActivityResponse>> UpdateActivityAsync(string ActivityID,UpdateActivityRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };

            var result = await _client.MakeRequestAsync<UpdateActivityRequest, UpdateActivityResponse>(
                "PUT",
                "/api/v2/feeds/activities/{activity_id}",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Deletes a bookmark from an activity
        public async Task<StreamResponse<DeleteBookmarkResponse>> DeleteBookmarkAsync(string ActivityID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, DeleteBookmarkResponse>(
                "DELETE",
                "/api/v2/feeds/activities/{activity_id}/bookmarks",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Updates a bookmark for an activity
        public async Task<StreamResponse<UpdateBookmarkResponse>> UpdateBookmarkAsync(string ActivityID,UpdateBookmarkRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };

            var result = await _client.MakeRequestAsync<UpdateBookmarkRequest, UpdateBookmarkResponse>(
                "PATCH",
                "/api/v2/feeds/activities/{activity_id}/bookmarks",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Adds a bookmark to an activity
        public async Task<StreamResponse<AddBookmarkResponse>> AddBookmarkAsync(string ActivityID,AddBookmarkRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };

            var result = await _client.MakeRequestAsync<AddBookmarkRequest, AddBookmarkResponse>(
                "POST",
                "/api/v2/feeds/activities/{activity_id}/bookmarks",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Cast a vote on a poll
        
        // Sends events:
        // - feeds.poll.vote_casted
        // - feeds.poll.vote_changed
        // - feeds.poll.vote_removed
        // - poll.vote_casted
        // - poll.vote_changed
        // - poll.vote_removed
        public async Task<StreamResponse<PollVoteResponse>> CastPollVoteAsync(string ActivityID, string PollID,CastPollVoteRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
                ["poll_id"] = PollID,
            };

            var result = await _client.MakeRequestAsync<CastPollVoteRequest, PollVoteResponse>(
                "POST",
                "/api/v2/feeds/activities/{activity_id}/polls/{poll_id}/vote",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Delete a vote from a poll
        
        // Sends events:
        // - feeds.poll.vote_removed
        // - poll.vote_removed
        public async Task<StreamResponse<PollVoteResponse>> DeletePollVoteAsync(string ActivityID, string PollID, string VoteID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
                ["poll_id"] = PollID,
                ["vote_id"] = VoteID,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, PollVoteResponse>(
                "DELETE",
                "/api/v2/feeds/activities/{activity_id}/polls/{poll_id}/vote/{vote_id}",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Adds a reaction to an activity
        public async Task<StreamResponse<AddReactionResponse>> AddReactionAsync(string ActivityID,AddReactionRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };

            var result = await _client.MakeRequestAsync<AddReactionRequest, AddReactionResponse>(
                "POST",
                "/api/v2/feeds/activities/{activity_id}/reactions",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Query activity reactions
        public async Task<StreamResponse<QueryActivityReactionsResponse>> QueryActivityReactionsAsync(string ActivityID,QueryActivityReactionsRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
            };

            var result = await _client.MakeRequestAsync<QueryActivityReactionsRequest, QueryActivityReactionsResponse>(
                "POST",
                "/api/v2/feeds/activities/{activity_id}/reactions/query",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Removes a reaction from an activity
        public async Task<StreamResponse<DeleteActivityReactionResponse>> DeleteActivityReactionAsync(string ActivityID, string Type,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["activity_id"] = ActivityID,
                ["type"] = Type,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, DeleteActivityReactionResponse>(
                "DELETE",
                "/api/v2/feeds/activities/{activity_id}/reactions/{type}",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Query bookmark folders with filter query
        public async Task<StreamResponse<QueryBookmarkFoldersResponse>> QueryBookmarkFoldersAsync(QueryBookmarkFoldersRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<QueryBookmarkFoldersRequest, QueryBookmarkFoldersResponse>(
                "POST",
                "/api/v2/feeds/bookmark_folders/query",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Delete a bookmark folder by its ID
        public async Task<StreamResponse<DeleteBookmarkFolderResponse>> DeleteBookmarkFolderAsync(string FolderID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["folder_id"] = FolderID,
            };

            var result = await _client.MakeRequestAsync<object, DeleteBookmarkFolderResponse>(
                "DELETE",
                "/api/v2/feeds/bookmark_folders/{folder_id}",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Update a bookmark folder by its ID
        public async Task<StreamResponse<UpdateBookmarkFolderResponse>> UpdateBookmarkFolderAsync(string FolderID,UpdateBookmarkFolderRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["folder_id"] = FolderID,
            };

            var result = await _client.MakeRequestAsync<UpdateBookmarkFolderRequest, UpdateBookmarkFolderResponse>(
                "PATCH",
                "/api/v2/feeds/bookmark_folders/{folder_id}",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Query bookmarks with filter query
        public async Task<StreamResponse<QueryBookmarksResponse>> QueryBookmarksAsync(QueryBookmarksRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<QueryBookmarksRequest, QueryBookmarksResponse>(
                "POST",
                "/api/v2/feeds/bookmarks/query",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Retrieve a threaded list of comments for a specific object (e.g., activity), with configurable depth, sorting, and pagination
        public async Task<StreamResponse<GetCommentsResponse>> GetCommentsAsync(object request = null,
            CancellationToken cancellationToken = default)
        {
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, GetCommentsResponse>(
                "GET",
                "/api/v2/feeds/comments",queryParams,null,null,
                cancellationToken);
            return result;
        }
        
        // Adds a comment to an object (e.g., activity) or a reply to an existing comment, and broadcasts appropriate events
        public async Task<StreamResponse<AddCommentResponse>> AddCommentAsync(AddCommentRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<AddCommentRequest, AddCommentResponse>(
                "POST",
                "/api/v2/feeds/comments",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Adds multiple comments in a single request. Each comment must specify the object type and ID.
        public async Task<StreamResponse<AddCommentsBatchResponse>> AddCommentsBatchAsync(AddCommentsBatchRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<AddCommentsBatchRequest, AddCommentsBatchResponse>(
                "POST",
                "/api/v2/feeds/comments/batch",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Query comments using MongoDB-style filters with pagination and sorting options
        public async Task<StreamResponse<QueryCommentsResponse>> QueryCommentsAsync(QueryCommentsRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<QueryCommentsRequest, QueryCommentsResponse>(
                "POST",
                "/api/v2/feeds/comments/query",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Deletes a comment from an object (e.g., activity) and broadcasts appropriate events
        public async Task<StreamResponse<DeleteCommentResponse>> DeleteCommentAsync(string CommentID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["comment_id"] = CommentID,
            };

            var result = await _client.MakeRequestAsync<object, DeleteCommentResponse>(
                "DELETE",
                "/api/v2/feeds/comments/{comment_id}",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Get a comment by ID
        public async Task<StreamResponse<GetCommentResponse>> GetCommentAsync(string CommentID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["comment_id"] = CommentID,
            };

            var result = await _client.MakeRequestAsync<object, GetCommentResponse>(
                "GET",
                "/api/v2/feeds/comments/{comment_id}",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Updates a comment on an object (e.g., activity) and broadcasts appropriate events
        public async Task<StreamResponse<UpdateCommentResponse>> UpdateCommentAsync(string CommentID,UpdateCommentRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["comment_id"] = CommentID,
            };

            var result = await _client.MakeRequestAsync<UpdateCommentRequest, UpdateCommentResponse>(
                "PATCH",
                "/api/v2/feeds/comments/{comment_id}",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Adds a reaction to a comment
        public async Task<StreamResponse<AddCommentReactionResponse>> AddCommentReactionAsync(string CommentID,AddCommentReactionRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["comment_id"] = CommentID,
            };

            var result = await _client.MakeRequestAsync<AddCommentReactionRequest, AddCommentReactionResponse>(
                "POST",
                "/api/v2/feeds/comments/{comment_id}/reactions",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Query comment reactions
        public async Task<StreamResponse<QueryCommentReactionsResponse>> QueryCommentReactionsAsync(string CommentID,QueryCommentReactionsRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["comment_id"] = CommentID,
            };

            var result = await _client.MakeRequestAsync<QueryCommentReactionsRequest, QueryCommentReactionsResponse>(
                "POST",
                "/api/v2/feeds/comments/{comment_id}/reactions/query",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Deletes a reaction from a comment
        public async Task<StreamResponse<DeleteCommentReactionResponse>> DeleteCommentReactionAsync(string CommentID, string Type,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["comment_id"] = CommentID,
                ["type"] = Type,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, DeleteCommentReactionResponse>(
                "DELETE",
                "/api/v2/feeds/comments/{comment_id}/reactions/{type}",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Retrieve a threaded list of replies for a single comment, with configurable depth, sorting, and pagination
        public async Task<StreamResponse<GetCommentRepliesResponse>> GetCommentRepliesAsync(string CommentID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["comment_id"] = CommentID,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, GetCommentRepliesResponse>(
                "GET",
                "/api/v2/feeds/comments/{comment_id}/replies",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // List all feed groups for the application
        public async Task<StreamResponse<ListFeedGroupsResponse>> ListFeedGroupsAsync(object request = null,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<object, ListFeedGroupsResponse>(
                "GET",
                "/api/v2/feeds/feed_groups",null,null,null,
                cancellationToken);
            return result;
        }
        
        // Creates a new feed group with the specified configuration
        public async Task<StreamResponse<CreateFeedGroupResponse>> CreateFeedGroupAsync(CreateFeedGroupRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<CreateFeedGroupRequest, CreateFeedGroupResponse>(
                "POST",
                "/api/v2/feeds/feed_groups",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Delete a feed group by its ID. Can perform a soft delete (default) or hard delete.
        public async Task<StreamResponse<DeleteFeedGroupResponse>> DeleteFeedGroupAsync(string FeedGroupID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, DeleteFeedGroupResponse>(
                "DELETE",
                "/api/v2/feeds/feed_groups/{feed_group_id}",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Get a feed group by ID
        public async Task<StreamResponse<GetFeedGroupResponse>> GetFeedGroupAsync(string FeedGroupID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
            };

            var result = await _client.MakeRequestAsync<object, GetFeedGroupResponse>(
                "GET",
                "/api/v2/feeds/feed_groups/{feed_group_id}",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Update a feed group by ID
        public async Task<StreamResponse<UpdateFeedGroupResponse>> UpdateFeedGroupAsync(string FeedGroupID,UpdateFeedGroupRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
            };

            var result = await _client.MakeRequestAsync<UpdateFeedGroupRequest, UpdateFeedGroupResponse>(
                "PUT",
                "/api/v2/feeds/feed_groups/{feed_group_id}",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Delete a single feed by its ID
        public async Task<StreamResponse<DeleteFeedResponse>> DeleteFeedAsync(string FeedGroupID, string FeedID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, DeleteFeedResponse>(
                "DELETE",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Create a single feed for a given feed group
        public async Task<StreamResponse<GetOrCreateFeedResponse>> GetOrCreateFeedAsync(string FeedGroupID, string FeedID,GetOrCreateFeedRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
            };

            var result = await _client.MakeRequestAsync<GetOrCreateFeedRequest, GetOrCreateFeedResponse>(
                "POST",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Update an existing feed
        public async Task<StreamResponse<UpdateFeedResponse>> UpdateFeedAsync(string FeedGroupID, string FeedID,UpdateFeedRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
            };

            var result = await _client.MakeRequestAsync<UpdateFeedRequest, UpdateFeedResponse>(
                "PUT",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Mark activities as read/seen/watched. Can mark by timestamp (seen), activity IDs (read), or all as read.
        public async Task<StreamResponse<Response>> MarkActivityAsync(string FeedGroupID, string FeedID,MarkActivityRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
            };

            var result = await _client.MakeRequestAsync<MarkActivityRequest, Response>(
                "POST",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/activities/mark/batch",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Unpin an activity from a feed. This removes the pin, so the activity will no longer be displayed at the top of the feed.
        public async Task<StreamResponse<UnpinActivityResponse>> UnpinActivityAsync(string FeedGroupID, string FeedID, string ActivityID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
                ["activity_id"] = ActivityID,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, UnpinActivityResponse>(
                "DELETE",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/activities/{activity_id}/pin",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Pin an activity to a feed. Pinned activities are typically displayed at the top of a feed.
        public async Task<StreamResponse<PinActivityResponse>> PinActivityAsync(string FeedGroupID, string FeedID, string ActivityID,PinActivityRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
                ["activity_id"] = ActivityID,
            };

            var result = await _client.MakeRequestAsync<PinActivityRequest, PinActivityResponse>(
                "POST",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/activities/{activity_id}/pin",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Add, remove, or set members for a feed
        public async Task<StreamResponse<UpdateFeedMembersResponse>> UpdateFeedMembersAsync(string FeedGroupID, string FeedID,UpdateFeedMembersRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
            };

            var result = await _client.MakeRequestAsync<UpdateFeedMembersRequest, UpdateFeedMembersResponse>(
                "PATCH",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/members",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Accepts a pending feed member request
        public async Task<StreamResponse<AcceptFeedMemberInviteResponse>> AcceptFeedMemberInviteAsync(string FeedID, string FeedGroupID,AcceptFeedMemberInviteRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_id"] = FeedID,
                ["feed_group_id"] = FeedGroupID,
            };

            var result = await _client.MakeRequestAsync<AcceptFeedMemberInviteRequest, AcceptFeedMemberInviteResponse>(
                "POST",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/members/accept",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Query feed members based on filters with pagination and sorting options
        public async Task<StreamResponse<QueryFeedMembersResponse>> QueryFeedMembersAsync(string FeedGroupID, string FeedID,QueryFeedMembersRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
            };

            var result = await _client.MakeRequestAsync<QueryFeedMembersRequest, QueryFeedMembersResponse>(
                "POST",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/members/query",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Rejects a pending feed member request
        public async Task<StreamResponse<RejectFeedMemberInviteResponse>> RejectFeedMemberInviteAsync(string FeedGroupID, string FeedID,RejectFeedMemberInviteRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
                ["feed_id"] = FeedID,
            };

            var result = await _client.MakeRequestAsync<RejectFeedMemberInviteRequest, RejectFeedMemberInviteResponse>(
                "POST",
                "/api/v2/feeds/feed_groups/{feed_group_id}/feeds/{feed_id}/members/reject",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Get follow suggestions for a feed group
        public async Task<StreamResponse<GetFollowSuggestionsResponse>> GetFollowSuggestionsAsync(string FeedGroupID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["feed_group_id"] = FeedGroupID,
            };
            var queryParams = ExtractQueryParams(request);

            var result = await _client.MakeRequestAsync<object, GetFollowSuggestionsResponse>(
                "GET",
                "/api/v2/feeds/feed_groups/{feed_group_id}/follow_suggestions",queryParams,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // List all feed views for a feed group
        public async Task<StreamResponse<ListFeedViewsResponse>> ListFeedViewsAsync(object request = null,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<object, ListFeedViewsResponse>(
                "GET",
                "/api/v2/feeds/feed_views",null,null,null,
                cancellationToken);
            return result;
        }
        
        // Create a custom view for a feed group with specific selectors, ranking, or aggregation options
        public async Task<StreamResponse<CreateFeedViewResponse>> CreateFeedViewAsync(CreateFeedViewRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<CreateFeedViewRequest, CreateFeedViewResponse>(
                "POST",
                "/api/v2/feeds/feed_views",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Delete an existing custom feed view
        public async Task<StreamResponse<DeleteFeedViewResponse>> DeleteFeedViewAsync(string ViewID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["view_id"] = ViewID,
            };

            var result = await _client.MakeRequestAsync<object, DeleteFeedViewResponse>(
                "DELETE",
                "/api/v2/feeds/feed_views/{view_id}",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Get a feed view by its ID
        public async Task<StreamResponse<GetFeedViewResponse>> GetFeedViewAsync(string ViewID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["view_id"] = ViewID,
            };

            var result = await _client.MakeRequestAsync<object, GetFeedViewResponse>(
                "GET",
                "/api/v2/feeds/feed_views/{view_id}",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Update an existing custom feed view with new selectors, ranking, or aggregation options
        public async Task<StreamResponse<UpdateFeedViewResponse>> UpdateFeedViewAsync(string ViewID,UpdateFeedViewRequest request,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["view_id"] = ViewID,
            };

            var result = await _client.MakeRequestAsync<UpdateFeedViewRequest, UpdateFeedViewResponse>(
                "PUT",
                "/api/v2/feeds/feed_views/{view_id}",null,request,pathParams,
                cancellationToken);
            return result;
        }
        
        // Create multiple feeds at once for a given feed group
        public async Task<StreamResponse<CreateFeedsBatchResponse>> CreateFeedsBatchAsync(CreateFeedsBatchRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<CreateFeedsBatchRequest, CreateFeedsBatchResponse>(
                "POST",
                "/api/v2/feeds/feeds/batch",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Query feeds with filter query
        public async Task<StreamResponse<QueryFeedsResponse>> QueryFeedsAsync(QueryFeedsRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<QueryFeedsRequest, QueryFeedsResponse>(
                "POST",
                "/api/v2/feeds/feeds/query",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Updates a follow's custom data, push preference, and follower role. Source owner can update custom data and push preference. Target owner can update follower role.
        public async Task<StreamResponse<UpdateFollowResponse>> UpdateFollowAsync(UpdateFollowRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<UpdateFollowRequest, UpdateFollowResponse>(
                "PATCH",
                "/api/v2/feeds/follows",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Creates a follow and broadcasts FollowAddedEvent
        public async Task<StreamResponse<SingleFollowResponse>> FollowAsync(FollowRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<FollowRequest, SingleFollowResponse>(
                "POST",
                "/api/v2/feeds/follows",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Accepts a pending follow request
        public async Task<StreamResponse<AcceptFollowResponse>> AcceptFollowAsync(AcceptFollowRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<AcceptFollowRequest, AcceptFollowResponse>(
                "POST",
                "/api/v2/feeds/follows/accept",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Creates multiple follows at once and broadcasts FollowAddedEvent for each follow
        public async Task<StreamResponse<FollowBatchResponse>> FollowBatchAsync(FollowBatchRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<FollowBatchRequest, FollowBatchResponse>(
                "POST",
                "/api/v2/feeds/follows/batch",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Query follows based on filters with pagination and sorting options
        public async Task<StreamResponse<QueryFollowsResponse>> QueryFollowsAsync(QueryFollowsRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<QueryFollowsRequest, QueryFollowsResponse>(
                "POST",
                "/api/v2/feeds/follows/query",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Rejects a pending follow request
        public async Task<StreamResponse<RejectFollowResponse>> RejectFollowAsync(RejectFollowRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<RejectFollowRequest, RejectFollowResponse>(
                "POST",
                "/api/v2/feeds/follows/reject",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Removes a follow and broadcasts FollowRemovedEvent
        public async Task<StreamResponse<UnfollowResponse>> UnfollowAsync(string Source, string Target,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["source"] = Source,
                ["target"] = Target,
            };

            var result = await _client.MakeRequestAsync<object, UnfollowResponse>(
                "DELETE",
                "/api/v2/feeds/follows/{source}/{target}",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Removes multiple follows at once and broadcasts FollowRemovedEvent for each one
        public async Task<StreamResponse<UnfollowBatchResponse>> UnfollowBatchAsync(UnfollowBatchRequest request,
            CancellationToken cancellationToken = default)
        {

            var result = await _client.MakeRequestAsync<UnfollowBatchRequest, UnfollowBatchResponse>(
                "POST",
                "/api/v2/feeds/unfollow/batch",null,request,null,
                cancellationToken);
            return result;
        }
        
        // Delete all activities, reactions, comments, and bookmarks for a user
        public async Task<StreamResponse<DeleteFeedUserDataResponse>> DeleteFeedUserDataAsync(string UserID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["user_id"] = UserID,
            };

            var result = await _client.MakeRequestAsync<object, DeleteFeedUserDataResponse>(
                "DELETE",
                "/api/v2/feeds/users/{user_id}/delete",null,null,pathParams,
                cancellationToken);
            return result;
        }
        
        // Export all activities, reactions, comments, and bookmarks for a user
        public async Task<StreamResponse<ExportFeedUserDataResponse>> ExportFeedUserDataAsync(string UserID,object request = null,
            CancellationToken cancellationToken = default)
        {
            var pathParams = new Dictionary<string, string>
            {
                ["user_id"] = UserID,
            };

            var result = await _client.MakeRequestAsync<object, ExportFeedUserDataResponse>(
                "POST",
                "/api/v2/feeds/users/{user_id}/export",null,null,pathParams,
                cancellationToken);
            return result;
        }
            }
        }