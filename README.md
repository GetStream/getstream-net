# GetStream .NET SDK

This is the official .NET SDK for GetStream's Feeds API.

## üîê Environment Variables Setup

**Important**: This SDK uses environment variables for secure API credential management.

Set the following environment variables before running:

```bash
export STREAM_API_KEY=your-api-key-here
export STREAM_API_SECRET=your-api-secret-here
export GETSTREAM_APP_ID=your-app-id-here  # Optional
```

For detailed setup instructions, see [Example]([Example](https://github.com/GetStream/getstream-net/blob/master/samples/ConsoleApp/Program.cs)).

## Structure

- `Client.cs` - Base HTTP client with authentication and request handling
- `BaseClient.cs` - Abstract base class for generated clients
- `feed.cs` - Generated FeedClient with all feeds API methods (generated by OpenAPI)
- `models.cs` - Generated response models (generated by OpenAPI)
- `requests.cs` - Generated request models (generated by OpenAPI)
- `JsonConverters.cs` - Custom JSON converters for API compatibility
- `FeedTests.cs` - Comprehensive test suite
- `TestRunner.cs` - Test execution framework

## Generation

To generate the complete SDK from the OpenAPI specification:

```bash
./generate.sh
```

This will generate:
- `feed.cs` - Complete FeedClient with all feeds API methods
- `models.cs` - All response models
- `requests.cs` - All request models

## Usage

After setting up environment variables, you can use the SDK like this:

```csharp
using GetStream;

// Initialize the client (credentials from environment variables)
var client = new Client(
    apiKey: Environment.GetEnvironmentVariable("STREAM_API_KEY"),
    apiSecret: Environment.GetEnvironmentVariable("STREAM_API_SECRET")
);

// Create a feeds client
var feedsClient = new FeedClient(client);

// Use the generated methods
var response = await feedsClient.AddActivityAsync(new AddActivityRequest
{
    Type = "post",
    Fids = new List<string> { "user:john" },
    Text = "Hello from .NET SDK!"
});
```

## Running Examples

```bash
# Run the main example
dotnet run

# Run the test suite
dotnet run test
```

## Development

The SDK uses a hybrid approach:
1. Manual boilerplate code (Client.cs, BaseClient.cs) - one-time setup
2. OpenAPI-generated code (feed.cs, models.cs, requests.cs) - auto-generated

This ensures a clean, maintainable SDK that follows .NET best practices while leveraging the OpenAPI specification for complete API coverage.
